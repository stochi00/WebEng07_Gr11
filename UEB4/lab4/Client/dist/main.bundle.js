webpackJsonp([0,2],{117:function(e,t,n){"use strict";var r=function(){function e(){this.current=-1,this.min=-1,this.max=-1}return e}();t.ControlUnit=r},118:function(e,t,n){"use strict";var r=function(){function e(){}return e}();t.Device=r},175:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(53),s=n(41),c=function(){function e(e,t){this.router=e,this.accessService=t,this.loginError=!1}return e.prototype.onSubmit=function(e){var t=this;e&&e.value&&e.value.username&&e.value.password||(this.loginError=!0),this.accessService.doLogin(e.value.username,e.value.password).then(function(e){t.loginError=!e,e&&t.router.navigate(["overview"])})},e=r([o.Component({selector:"my-login",template:n(426)}),i("design:paramtypes",["function"==typeof(t=void 0!==a.Router&&a.Router)&&t||Object,"function"==typeof(c=void 0!==s.AccessService&&s.AccessService)&&c||Object])],e);var t,c}();t.LoginComponent=c},176:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(41),s=n(110);n(278);var c=function(){function e(e,t){this.accessService=e,this.http=t,this.updatePasswordURL="http://localhost:8081/updatePW"}return e.prototype.ngOnInit=function(){this.updateError=!1},e.prototype.equalsPW=function(e){return!!(e&&e.value&&e.value["repeat-password"]&&e.value["new-password"])&&e.value["repeat-password"]===e.value["new-password"]},e.prototype.onSubmit=function(e){var t=this;if(this.updateError=!1,!(e&&e.value&&e.value["new-password"]&&e.value["repeat-password"]&&e.value["old-password"]))return this.error_message="Es wurden nicht alle benötigten Eingaben getätigt!",void(this.updateError=!0);e.value["old-password"],e.value["new-password"],e.value["repeat-password"];this.http.post(this.updatePasswordURL,{old_password:e.value["old-password"],new_password:e.value["new-password"],repeat_password:e.value["repeat-password"]},{headers:this.accessService.getTokenHeader()}).toPromise().then(function(n){if(n=n.json(),console.log(n),200!=n.status)switch(n.errorNum){case 0:t.error_message="Das alte Passwort ist nicht korrekt!",t.updateError=!0;break;case 1:t.error_message="Passwörter stimmen nicht überein!",t.updateError=!0;break;case 2:t.error_message="Das Passwort konnte nicht gespeichert werden!",t.updateError=!0}else e.reset()})},e=r([o.Component({selector:"my-options",template:n(428)}),i("design:paramtypes",["function"==typeof(t=void 0!==a.AccessService&&a.AccessService)&&t||Object,"function"==typeof(c=void 0!==s.Http&&s.Http)&&c||Object])],e);var t,c}();t.OptionsComponent=c},177:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=function(){function e(){this.isAddDevice=!1}return e.prototype.addDevice=function(){this.isAddDevice=!0},e.prototype.closeAddDeviceWindow=function(){this.isAddDevice=!1},e=r([o.Component({selector:"my-overview",template:n(430)}),i("design:paramtypes",[])],e)}();t.OverviewComponent=a},178:function(e,t,n){"use strict";!function(e){e[e.boolean=0]="boolean",e[e.enum=1]="enum",e[e.continuous=2]="continuous"}(t.ControlType||(t.ControlType={}));t.ControlType},275:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};n(437);var o=n(0),a=n(42),s=n(53),c=n(178),l=function(){function e(e,t){this.deviceService=e,this.route=t}return e.prototype.ngOnInit=function(){var e=this;this.route.params.switchMap(function(t){return e.deviceService.getDevice(t.id)}).subscribe(function(t){return e.device=t})},e.prototype.isEnum=function(e){return e.type===c.ControlType.enum},e.prototype.isContinuous=function(e){return e.type===c.ControlType.continuous},e.prototype.isBoolean=function(e){return e.type===c.ControlType.boolean},e=r([o.Component({selector:"my-device-detail",template:n(423)}),i("design:paramtypes",["function"==typeof(t=void 0!==a.DeviceService&&a.DeviceService)&&t||Object,"function"==typeof(l=void 0!==s.ActivatedRoute&&s.ActivatedRoute)&&l||Object])],e);var t,l}();t.DeviceDetailsComponent=l},276:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(178),s=function(){function e(){this.function_map=[{id:"Heizkörperthermostat",value:drawThermometer},{id:"Beleuchtung",value:drawBulb},{id:"Webcam",value:drawCam},{id:"Überwachungskamera",value:drawCam},{id:"Rollladen",value:drawShutter}],this.update_map=[{id:"Heizkörperthermostat",value:updateThermometer},{id:"Beleuchtung",value:updateBulb},{id:"Webcam",value:updateCam},{id:"Überwachungskamera",value:updateCam},{id:"Rollladen",value:updateShutter}]}return e.prototype.parseDevice=function(e){var t=this.function_map.filter(function(t){return t.id===e.type})[0],n=this.update_map.filter(function(t){return t.id===e.type})[0];null!=t?e.draw_image=t.value:null!=e.image&&(e.draw_image=addImage),null!=n&&(e.update_image=n.value);for(var r=0,i=e.control_units;r<i.length;r++){var o=i[r];switch(o.type.toString()){case"continuous":o.type=a.ControlType.continuous;break;case"enum":o.type=a.ControlType.enum;break;case"boolean":o.type=a.ControlType.boolean}}return e},e=r([o.Injectable(),i("design:paramtypes",[])],e)}();t.DeviceParserService=s},293:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=293},294:function(e,t,n){"use strict";var r=n(0),i=n(379),o=n(409);n(418).environment.production&&r.enableProdMode(),i.platformBrowserDynamic().bootstrapModule(o.AppModule)},408:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(53),s=n(177),c=n(175),l=n(176),d=n(275),u=n(41),p=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:c.LoginComponent},{path:"overview",component:s.OverviewComponent,canActivate:[u.AccessService]},{path:"options",component:l.OptionsComponent,canActivate:[u.AccessService]},{path:"details/:id",component:d.DeviceDetailsComponent,canActivate:[u.AccessService]},{path:"**",redirectTo:"/login",pathMatch:"full"}],v=function(){function e(){}return e=r([o.NgModule({imports:[a.RouterModule.forRoot(p)],exports:[a.RouterModule]}),i("design:paramtypes",[])],e)}();t.AppRoutingModule=v},409:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(114),s=n(370),c=n(110),l=n(408),d=n(420),u=n(45),p=n(410),v=n(175),f=n(417),h=n(413),m=n(415),g=n(177),y=n(176),b=n(42),w=n(276),_=n(41),S=n(275),C=n(412),R=n(414),D=n(411),O=n(416),j=function(){function e(){}return e=r([o.NgModule({imports:[a.BrowserModule,s.FormsModule,c.HttpModule,l.AppRoutingModule,d.ChartsModule],declarations:[p.AppComponent,f.SidebarComponent,D.BooleanDeviceDetailsComponent,C.ContinuousDeviceDetailsComponent,R.EnumDeviceDetailsComponent,h.DevicesComponent,S.DeviceDetailsComponent,m.NavigationComponent,g.OverviewComponent,y.OptionsComponent,v.LoginComponent,O.OverlayComponent],providers:[{provide:o.LOCALE_ID,useValue:"de-at"},_.AccessService,u.DatePipe,b.DeviceService,w.DeviceParserService],bootstrap:[p.AppComponent]}),i("design:paramtypes",[])],e)}();t.AppModule=j},41:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(110),s=n(53);n(436),n(435);var c=function(){function e(e,t){this.http=e,this.router=t,this.token_name="access-token",this.loginURL="https://localhost:4201/login",this.logoutURL="https://localhost:4201/logout",this.statusURl="https://localhost:4201/getStatus",this.token=null,this.server_start=new Date,this.failed_logins=0}return e.prototype.canActivate=function(){return this.readToken(),null!=this.token||(this.router.navigate(["/login"]),!1)},e.prototype.readToken=function(){var e=localStorage.getItem(this.token_name);e&&(this.token=e)},e.prototype.writeToken=function(){localStorage.setItem(this.token_name,this.token)},e.prototype.removeToken=function(){localStorage.removeItem(this.token_name)},e.prototype.doLogin=function(e,t){var n=this;return this.http.post(this.loginURL,{username:e,password:t}).toPromise().then(function(e){return 200===(e=e.json()).status&&(n.token=e.token,n.writeToken(),n.getServerStatus(),!0)})},e.prototype.getTokenHeader=function(){if(null==this.token)return null;var e=new a.Headers;return e.append(this.token_name,this.token),e},e.prototype.doLogout=function(){var e=this;return this.http.post(this.logoutURL,{},{headers:this.getTokenHeader()}).toPromise().then(function(t){return 200===(t=t.json()).status&&(e.removeToken(),!0)})},e.prototype.getServerStatus=function(){var e=this;this.http.get(this.statusURl,{headers:this.getTokenHeader()}).toPromise().then(function(t){200===(t=t.json()).status&&(e.server_start=t.date,e.failed_logins=t.failed)})},e.prototype.setToken=function(e){this.token=e},e.prototype.getToken=function(){return this.token?this.token:null},e=r([o.Injectable(),i("design:paramtypes",["function"==typeof(t=void 0!==a.Http&&a.Http)&&t||Object,"function"==typeof(n=void 0!==s.Router&&s.Router)&&n||Object])],e);var t,n}();t.AccessService=c},410:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=function(){function e(){}return e=r([o.Component({selector:"my-app",template:"<router-outlet></router-outlet>"}),i("design:paramtypes",[])],e)}();t.AppComponent=a},411:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(118),s=n(117),c=n(42),l=function(){function e(e){this.deviceService=e,this.doughnutChartData=[0,0],this.doughnutChartLabels=["Aus","An"],this.doughnutChartOptions={responsive:!0,maintainAspectRatio:!1},this.doughnutChartLegend=!0,this.doughnutChartType="doughnut"}return e.prototype.ngOnInit=function(){var e=this;this.new_value=1==this.controlUnit.current,this.deviceService.getUpdateRegister().subscribe(function(t){t.unitId==e.device.control_units.indexOf(e.controlUnit)&&e.device.id==t.id&&e.updateChart()}),this.createChart()},e.prototype.createChart=function(){var e=this.device.id,t=this.device.control_units.indexOf(this.controlUnit),n=Number(sessionStorage.getItem(e+":"+t));if(n>0){for(var r=0;r<n;r++){var i=Number(sessionStorage.getItem(e+":"+t+":"+r+":value"));this.doughnutChartData[i?1:0]++}this.doughnutChartData=this.doughnutChartData.slice()}},e.prototype.updateChart=function(){var e=this.device.id,t=this.device.control_units.indexOf(this.controlUnit),n=Number(sessionStorage.getItem(e+":"+t));if(n>0){var r=Number(sessionStorage.getItem(e+":"+t+":"+(n-1)+":value"));this.doughnutChartData[r?1:0]++,this.doughnutChartData=this.doughnutChartData.slice()}},e.prototype.onSubmit=function(){this.deviceService.updateCurrent(this.device,this.new_value?1:0,this.controlUnit)},r([o.Input(),i("design:type","function"==typeof(t=void 0!==a.Device&&a.Device)&&t||Object)],e.prototype,"device",void 0),r([o.Input(),i("design:type","function"==typeof(l=void 0!==s.ControlUnit&&s.ControlUnit)&&l||Object)],e.prototype,"controlUnit",void 0),e=r([o.Component({selector:"boolean-details",template:n(421)}),i("design:paramtypes",["function"==typeof(d=void 0!==c.DeviceService&&c.DeviceService)&&d||Object])],e);var t,l,d}();t.BooleanDeviceDetailsComponent=l},412:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(118),s=n(117),c=n(42),l=function(){function e(e){this.deviceService=e,this.lineChartData=[{data:[],label:"Verlauf"}],this.lineChartLabels=[],this.lineChartOptions={responsive:!0,maintainAspectRatio:!1},this.lineChartColors=[{backgroundColor:"rgba(77,83,96,0.2)",borderColor:"rgba(77,83,96,1)",pointBackgroundColor:"rgba(77,83,96,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(77,83,96,1)"}],this.lineChartLegend=!0,this.lineChartType="line"}return e.prototype.ngOnInit=function(){var e=this;this.new_value=this.controlUnit.current,this.deviceService.getUpdateRegister().subscribe(function(t){t.unitId==e.device.control_units.indexOf(e.controlUnit)&&e.device.id==t.id&&e.updateChart()}),this.createChart()},e.prototype.onSubmit=function(){this.deviceService.updateCurrent(this.device,this.new_value,this.controlUnit)},e.prototype.createChart=function(){var e=this.device.id,t=this.device.control_units.indexOf(this.controlUnit),n=Number(sessionStorage.getItem(e+":"+t));if(n>0){for(var r=0;r<n;r++){var i=sessionStorage.getItem(e+":"+t+":"+r+":value"),o=sessionStorage.getItem(e+":"+t+":"+r+":time");this.lineChartData[0].data.push(i),this.lineChartLabels.push(o)}this.lineChartData=this.lineChartData.slice()}},e.prototype.updateChart=function(){var e=this.device.id,t=this.device.control_units.indexOf(this.controlUnit),n=Number(sessionStorage.getItem(e+":"+t)),r=sessionStorage.getItem(e+":"+t+":"+(n-1)+":value"),i=sessionStorage.getItem(e+":"+t+":"+(n-1)+":time");this.lineChartData[0].data.push(r),this.lineChartLabels.push(i),this.lineChartData=this.lineChartData.slice()},r([o.Input(),i("design:type","function"==typeof(t=void 0!==a.Device&&a.Device)&&t||Object)],e.prototype,"device",void 0),r([o.Input(),i("design:type","function"==typeof(l=void 0!==s.ControlUnit&&s.ControlUnit)&&l||Object)],e.prototype,"controlUnit",void 0),e=r([o.Component({selector:"continuous-details",template:n(422)}),i("design:paramtypes",["function"==typeof(d=void 0!==c.DeviceService&&c.DeviceService)&&d||Object])],e);var t,l,d}();t.ContinuousDeviceDetailsComponent=l},413:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(42),s=function(){function e(e){this.deviceService=e,this.update=!0,this.device_num=0}return e.prototype.ngOnInit=function(){this.update=!0,this.listDevices(),this.deviceService.openWebsocket()},e.prototype.ngAfterViewChecked=function(){if(null!=this.devices&&this.device_num!=this.devices.length&&this.device_num<this.devices.length&&(this.update=!0,this.device_num=this.devices.length),null!=this.devices&&this.device_num>this.devices.length&&(this.device_num=this.devices.length),null!=this.devices&&this.update){this.update=!1;for(var e=0,t=this.devices;e<t.length;e++){var n=t[e];if(null!=n.draw_image)for(var r=0,i=n.control_units;r<i.length;r++){var o=i[r];o.primary&&n.draw_image(n.id,n.image,o.min,o.max,o.current,o.values)}}}},e.prototype.listDevices=function(){var e=this;this.deviceService.getDevices().then(function(t){e.devices=t,e.edit=new Array(e.devices.length);for(var n=0;n<e.devices.length;n++)e.edit[n]={id:e.devices[n].id,value:!1};e.device_num=t.length})},e.prototype.isEdited=function(e){var t=this.findStatus(e);return!(t<0)&&this.edit[t].value},e.prototype.findStatus=function(e){for(var t=0;t<this.edit.length;t++)if(e.id===this.edit[t].id)return t;return-1},e.prototype.editDevice=function(e){var t=this.findStatus(e);t>=0&&(this.edit[t].value=!0);var n=$(".device-outer[data-device-id="+e.id+"]");n.find(".device-edit").hide(),n.find(".device-remove").attr("src","../images/ok.png")},e.prototype.finishEdit=function(e){var t=this;this.deviceService.updateDevice(e).then(function(n){n?t.showLabel(e):window.alert("Änderungen konnten nicht gespeichert werden.")})},e.prototype.removeDevice=function(e){this.deviceService.deleteDevice(e).then(function(e){e||window.alert("Gerät konnte nicht gelöscht werden.")})},e.prototype.showLabel=function(e){var t=this.findStatus(e);t>=0&&(this.edit[t].value=!1);var n=$(".device-outer[data-device-id="+e.id+"]");n.find(".device-edit").show(),n.find(".device-remove").attr("src","../images/remove.png")},e=r([o.Component({selector:"my-devices",template:n(424)}),i("design:paramtypes",["function"==typeof(t=void 0!==a.DeviceService&&a.DeviceService)&&t||Object])],e);var t}();t.DevicesComponent=s},414:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(118),s=n(117),c=n(42),l=function(){function e(e){this.deviceService=e,this.polarChartLabels=[],this.polarChartData=[],this.polarChartType="polarArea",this.polarChartOptions={responsive:!0,maintainAspectRatio:!1},this.polarChartLegend=!0}return e.prototype.ngOnInit=function(){var e=this;this.new_value=this.controlUnit.values[this.controlUnit.current],this.deviceService.getUpdateRegister().subscribe(function(t){t.unitId==e.device.control_units.indexOf(e.controlUnit)&&e.device.id==t.id&&e.updateChart()}),this.createChart()},e.prototype.updateChart=function(){var e=this.device.id,t=this.device.control_units.indexOf(this.controlUnit),n=Number(sessionStorage.getItem(e+":"+t));if(n>0){var r=Number(sessionStorage.getItem(e+":"+t+":"+(n-1)+":value"));this.polarChartData[r]++,this.polarChartData=this.polarChartData.slice()}},e.prototype.createChart=function(){for(var e=0,t=this.controlUnit.values;e<t.length;e++){var n=t[e];this.polarChartLabels.push(n),this.polarChartData.push(0)}var r=this.device.id,i=this.device.control_units.indexOf(this.controlUnit),o=Number(sessionStorage.getItem(r+":"+i));if(o>0){for(var a=0;a<o;a++){var s=Number(sessionStorage.getItem(r+":"+i+":"+a+":value"));this.polarChartData[s]++}this.polarChartData=this.polarChartData.slice()}},e.prototype.onSubmit=function(){var e=this.controlUnit.values.indexOf(this.new_value);this.deviceService.updateCurrent(this.device,e,this.controlUnit)},e.prototype.isSelected=function(e){return e==this.new_value},r([o.Input(),i("design:type","function"==typeof(t=void 0!==a.Device&&a.Device)&&t||Object)],e.prototype,"device",void 0),r([o.Input(),i("design:type","function"==typeof(l=void 0!==s.ControlUnit&&s.ControlUnit)&&l||Object)],e.prototype,"controlUnit",void 0),e=r([o.Component({selector:"enum-details",template:n(425)}),i("design:paramtypes",["function"==typeof(d=void 0!==c.DeviceService&&c.DeviceService)&&d||Object])],e);var t,l,d}();t.EnumDeviceDetailsComponent=l},415:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(53),s=n(176),c=n(175),l=n(41),d=function(){function e(e,t,n){this.router=e,this.route=t,this.accessService=n}return e.prototype.isOptionsShown=function(){return!this.isOptionsite()&&!this.isLoginSite()},e.prototype.isLogoutShown=function(){return!this.isLoginSite()},e.prototype.isOptionsite=function(){return this.route.component===s.OptionsComponent},e.prototype.isLoginSite=function(){return this.route.component===c.LoginComponent},e.prototype.doLogout=function(){var e=this;console.log("doLogout"),this.accessService.doLogout().then(function(t){t?e.router.navigate(["/login"]):window.alert("Sie konnten nicht abgemeldet werden.\nBitte versuchen Sie es erneut.")})},e=r([o.Component({selector:"my-navigation",template:n(427)}),i("design:paramtypes",["function"==typeof(t=void 0!==a.Router&&a.Router)&&t||Object,"function"==typeof(d=void 0!==a.ActivatedRoute&&a.ActivatedRoute)&&d||Object,"function"==typeof(u=void 0!==l.AccessService&&l.AccessService)&&u||Object])],e);var t,d,u}();t.NavigationComponent=d},416:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(177),s=n(42),c=n(118),l=n(117),d=n(178),u=function(){function e(e){this.deviceService=e,this.overviewComponent=null,this.selected_type=null,this.controlUnitType_selected=null,this.addError=!1,this.createError=!1}return e.prototype.ngOnInit=function(){this.device_types=["Beleuchtung","Heizkörperthermostat","Rollladen","Überwachungskamera","Webcam"],this.controlUnit_types=["Ein/Auschalter","Diskrete Werte","Kontinuierlicher Wert"],this.selected_type=this.device_types[0],this.controlUnitType_selected=this.controlUnit_types[0],this.getSPARQLTypes()},e.prototype.doClose=function(){null!=this.overviewComponent&&this.overviewComponent.closeAddDeviceWindow()},e.prototype.onSubmit=function(e){var t=this;if(this.createError=!1,e&&e.value&&e.value.typename&&e.value.displayname&&e.value.elementname)if(this.isEnumSelected()&&!e.value["discrete-values"]||e.value["discrete-values"]&&0==e.value["discrete-values"].split(",").length)this.addError=!0;else{var n=new c.Device;switch(n.display_name=e.value.displayname,n.type_name=e.value.typename,this.selected_type){case"Beleuchtung":n.image="images/bulb.svg",n.image_alt="Glühbirne als Indikator für Aktivierung",n.description="Genauere Informationen zu diesem Beleuchtungselement";break;case"Heizkörperthermostat":n.image="images/thermometer.svg",n.image_alt="Thermometer zur Temperaturanzeige",n.description="Genauere Informationen zu diesem Thermostat";break;case"Rollladen":n.image="images/roller_shutter.svg",n.image_alt="Rollladenbild als Indikator für Öffnungszustand",n.description="Genauere Informationen zu diesem Rollladen";break;case"Überwachungskamera":n.image="images/webcam.svg",n.image_alt="Webcam als Indikator für Aktivierung",n.description="Genauere Informationen zu dieser Überwachungskamera";break;case"Webcam":n.image="images/webcam.svg",n.image_alt="Webcam als Indikator für Aktivierung",n.description="Genauere Informationen zu dieser Webcam";break;default:var r=JSON.parse(sessionStorage.getItem("sparql_data")).find(function(e){return e.label.value==t.selected_type});n.image=r.url.value,n.image_alt=r.label.value,n.description=r.label.value}n.type=this.selected_type;var i=new l.ControlUnit;switch(i.primary=!0,this.controlUnitType_selected){case this.controlUnit_types[0]:i.type=d.ControlType.boolean;break;case this.controlUnit_types[1]:i.type=d.ControlType.enum;break;case this.controlUnit_types[2]:i.type=d.ControlType.continuous}if(i.name=e.value.elementname,this.isContinuousSelected()?(i.min=e.value["minimum-value"],i.max=e.value["maximum-value"],i.current=i.min,i.values=[""]):i.min=i.max=0,this.isBooleanSelected()&&(i.current=0,i.values=[""]),this.isEnumSelected()){var o=e.value["discrete-values"].split(",");i.values=[""],i.values.length=0;for(var a=0;a<o.length;a++)i.values.push(o[a].trim());i.current=0}n.control_units=[i],this.deviceService.createDevice(n).then(function(n){n?(e.reset(),t.overviewComponent.closeAddDeviceWindow()):t.createError=!0})}else this.addError=!0},e.prototype.getSPARQLTypes=function(){var e=new XMLHttpRequest,t=this.device_types;e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var n;n=JSON.parse(this.responseText).results.bindings,sessionStorage.setItem("sparql_data",JSON.stringify(n)),n.map(function(e){t.push(e.label.value)})}};var n="?query="+encodeURIComponent('PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>PREFIX dct: <http://purl.org/dc/terms/>PREFIX dbo: <http://dbpedia.org/ontology/>PREFIX floaf: <http://xmlns.com/floaf/0.1/>SELECT DISTINCT ?label, CONCAT(?image,"?width=300")as ?url WHERE {   ?thing    dct:subject     <http://dbpedia.org/resource/Category:Home_automation> ;             rdf:type        owl:Thing ;             rdfs:label      ?label ;              foaf:depiction  ?image .    ?company  dbo:product     ?thing . FILTER(LANGMATCHES(LANG(?label), "de")) . } ')+"&format=json";e.open("GET","http://dbpedia.org/sparql"+n,!0),e.send(null)},e.prototype.isSelected=function(e){return e==this.device_types[0]},e.prototype.isBooleanSelected=function(){return this.controlUnitType_selected===this.controlUnit_types[0]},e.prototype.isEnumSelected=function(){return this.controlUnitType_selected===this.controlUnit_types[1]},e.prototype.isContinuousSelected=function(){return this.controlUnitType_selected===this.controlUnit_types[2]},r([o.Input(),i("design:type","function"==typeof(t=void 0!==a.OverviewComponent&&a.OverviewComponent)&&t||Object)],e.prototype,"overviewComponent",void 0),e=r([o.Component({selector:"my-overlay",template:n(429)}),i("design:paramtypes",["function"==typeof(u=void 0!==s.DeviceService&&s.DeviceService)&&u||Object])],e);var t,u}();t.OverlayComponent=u},417:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(41),s=function(){function e(e){this.accessService=e}return e.prototype.ngOnInit=function(){this.accessService.getServerStatus()},e=r([o.Component({selector:"my-sidebar",template:n(431)}),i("design:paramtypes",["function"==typeof(t=void 0!==a.AccessService&&a.AccessService)&&t||Object])],e);var t}();t.SidebarComponent=s},418:function(e,t,n){"use strict";t.environment={production:!0}},42:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(53),a=n(0),s=n(110),c=n(41),l=n(276);n(278);var d=n(45),u=n(43),p=function(){function e(e,t,n,r,i){this.datePipe=e,this.activeRoute=t,this.http=n,this.parserService=r,this.accessService=i,this.listDevicesURL="https://localhost:4201/listDevices",this.updateDeviceURL="https://localhost:4201/updateDevice",this.deleteDeviceURL="https://localhost:4201/deleteDevice",this.createDeviceURL="https://localhost:4201/createDevice",this.connection=null,this.devices=null,this.updateRegister=new u.Subject}return e.prototype.deleteDevice=function(e){return this.http.post(this.deleteDeviceURL,{id:e.id},{headers:this.accessService.getTokenHeader()}).toPromise().then(function(e){return 200===(e=e.json()).status})},e.prototype.createDevice=function(e){return this.http.post(this.createDeviceURL,{device:JSON.stringify(e)},{headers:this.accessService.getTokenHeader()}).toPromise().then(function(e){return 200===(e=e.json()).status})},e.prototype.updateDevice=function(e){return this.http.post(this.updateDeviceURL,{device:JSON.stringify(e)},{headers:this.accessService.getTokenHeader()}).toPromise().then(function(e){return 200===(e=e.json()).status})},e.prototype.updateCurrent=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=this.stateChanged,r.controlUnit=n,r.open("POST","http://localhost:8081/updateCurrent",!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.setRequestHeader("access-token",this.accessService.getToken());var i=e.control_units.indexOf(n),o="id="+e.id+"&unitId="+i+"&value="+t;r.send(o)},e.prototype.stateChanged=function(e){var t=e.target;switch(t.readyState){case 0:case 1:case 2:case 3:break;case 4:if(200==t.status){var n=JSON.parse(t.responseText);if(200==n.status){var r=t.controlUnit;r.log=n.message,r.current=n.value}}}},e.prototype.openWebsocket=function(){var e=this;if(null==this.connection){this.connection=new WebSocket("ws://localhost:8081/subscribe");var t=this.accessService.getToken();this.connection.onopen=function(e){e.target.send(JSON.stringify({token:t}))},this.connection.onmessage=function(t){var n=JSON.parse(t.data);if(-1!=n.method||n.message.includes("submitted")){if(!(n.method<0)){if(3==n.method){var r=JSON.parse(n.device);return r=e.parserService.parseDevice(r),e.devices.push(r),void e.devices.slice()}var i=e.devices.find(function(e){return e.id===n.deviceID});switch(n.method){case 0:var o=i.control_units[n.control_unitID];o.current!=n.value&&(o.current=n.value,o.log=n.log,o.primary&&"/overview"===e.activeRoute.url&&i.update_image(i.id,o.min,o.max,o.current,o.values),e.writeDeviceLog(i.id,n.control_unitID,n.value,n.date));break;case 1:i.display_name=n.value;break;case 2:e.devices.splice(e.devices.indexOf(i),1)}}}else e.connection.close()}}},e.prototype.writeDeviceLog=function(e,t,n,r){var i=Number(sessionStorage.getItem(e+":"+t));sessionStorage.setItem(e+":"+t+":"+i+":value",n.toString()),sessionStorage.setItem(e+":"+t+":"+i+":time",this.datePipe.transform(r,"mediumTime")),sessionStorage.setItem(e+":"+t,i+1+""),this.updateRegister.next({id:e,unitId:Number(t)})},e.prototype.getUpdateRegister=function(){return this.updateRegister},e.prototype.getDevices=function(){var e=this;return this.http.get(this.listDevicesURL,{headers:this.accessService.getTokenHeader()}).toPromise().then(function(t){for(var n=t.json().message.devices,r=0;r<n.length;r++)n[r]=e.parserService.parseDevice(n[r]);return e.devices=n,n}).catch(this.handleError)},e.prototype.getDevice=function(e){return this.getDevices().then(function(t){return t.find(function(t){return t.id===e})})},e.prototype.handleError=function(e){return console.error("An error occurred",e),Promise.reject(e.message||e)},e=r([a.Injectable(),i("design:paramtypes",["function"==typeof(t=void 0!==d.DatePipe&&d.DatePipe)&&t||Object,"function"==typeof(n=void 0!==o.Router&&o.Router)&&n||Object,"function"==typeof(p=void 0!==s.Http&&s.Http)&&p||Object,"function"==typeof(v=void 0!==l.DeviceParserService&&l.DeviceParserService)&&v||Object,"function"==typeof(f=void 0!==c.AccessService&&c.AccessService)&&f||Object])],e);var t,n,p,v,f}();t.DeviceService=p},421:function(e,t){e.exports='<div class="details-image-container">\r\n    <canvas alt="Donatdiagramm für das Gerät" class="details-image" baseChart\r\n            [data]="doughnutChartData"\r\n            [labels]="doughnutChartLabels"\r\n            [chartType]="doughnutChartType"\r\n            [legend]="doughnutChartLegend"\r\n            [options]="doughnutChartOptions">\r\n    </canvas>\r\n</div>\r\n<div class="details-data">\r\n    <label class="accessibility" for="details-log">Letzte Werteänderungen</label>\r\n    <textarea id="details-log" class="detail-logs" [(ngModel)]="controlUnit.log" placeholder="Gerätelog" readonly rows="6"></textarea>\r\n    <div class="details-settings">\r\n        <h3 class="details-headline">{{controlUnit.name}}</h3>\r\n\r\n        <form class="update-form" method="post" #updateForm="ngForm" (ngSubmit)="onSubmit()">\r\n\r\n            <label class="update-form-field" id="current-value">\r\n                <span class="current-value">derzeit: {{controlUnit.current==0 ? "Deaktiviert" : "Aktiviert"}}</span>\r\n            </label>\r\n\r\n            <label class="accessibility" for="new-value">Bitte gewünschten Wert auswählen.</label>\r\n            <input type="checkbox" id="new-value" [checked]="new_value==0 ? null: true" [(ngModel)]="new_value"\r\n                   class="update-checkbox-input form-input"\r\n                   name="new-value">\r\n            <input type="submit" id="submit-value" class="update-form-field button" name="submit-value"\r\n                   value="Wert setzen">\r\n        </form>\r\n    </div>\r\n</div>\r\n'},422:function(e,t){e.exports='<div class="details-image-container">\r\n  <canvas alt="Liniendiagramm für das Gerät" class="details-image" baseChart\r\n          [datasets]="lineChartData"\r\n          [labels]="lineChartLabels"\r\n          [options]="lineChartOptions"\r\n          [colors]="lineChartColors"\r\n          [legend]="lineChartLegend"\r\n          [chartType]="lineChartType">\r\n  </canvas>\r\n</div>\r\n<div class="details-data">\r\n  <label class="accessibility" for="details-log">Letzte Werteänderungen</label>\r\n  <textarea id="details-log" class="detail-logs" [(ngModel)]="controlUnit.log" placeholder="Gerätelog" readonly rows="6"></textarea>\r\n  <div class="details-settings">\r\n    <h3 class="details-headline">{{controlUnit.name}}</h3>\r\n\r\n    <form class="update-form" #updateForm="ngForm" method="post" (ngSubmit)="onSubmit()" >\r\n\r\n      <label class="update-form-field" id="current-value">\r\n        <span class="current-value">derzeit: {{controlUnit.current}}</span>\r\n      </label>\r\n\r\n      <label class="accessibility" for="new-value">Bitte gewünschten Wert eingeben.</label>\r\n      <input type="number" step="0.01" [min]="controlUnit.min" [max]="controlUnit.max" id="new-value" [value]="new_value" [(ngModel)]="new_value"\r\n             class="update-form-field form-input" name="new-value" required >\r\n      <input [disabled]="!updateForm.form.valid" type="submit" id="submit-value" class="update-form-field button" name="submit-value"\r\n             value="Wert setzen">\r\n    </form>\r\n  </div>\r\n</div>\r\n'},423:function(e,t){e.exports='<body data-decimal-separator="," data-grouping-separator=".">\r\n<div role="navigation">\r\n    <a href="#devicessheadline" class="accessibility">Zum Inhalt springen</a>\r\n</div>\r\n\r\n<my-navigation></my-navigation>\r\n<div class="main-container">\r\n    <aside class="sidebar" aria-labelledby="serverinfoheadline">\r\n        <my-sidebar></my-sidebar>\r\n    </aside>\r\n    <main *ngIf="device" aria-labelledby="deviceheadline" class="details-container">\r\n\r\n        <div [attr.data-device-id]="device.id" class="details-headline">\r\n            <h2 class="main-headline" id="deviceheadline">{{device.display_name}}</h2>\r\n        </div>\r\n        <div class="details-holder" *ngFor="let control_unit of device.control_units">\r\n            <div *ngFor="let control_unit of device.control_units"  class="details-outer">\r\n                <continuous-details *ngIf="isContinuous(control_unit)" [device]="device" [controlUnit]="control_unit"></continuous-details>\r\n                <enum-details *ngIf="isEnum(control_unit)" [device]="device" [controlUnit]="control_unit"></enum-details>\r\n                <boolean-details *ngIf="isBoolean(control_unit)"  [device]="device" [controlUnit]="control_unit"></boolean-details>\r\n            </div>\r\n        </div>\r\n    </main>\r\n</div>\r\n<footer>\r\n    © 2017 BIG Smart Home\r\n</footer>\r\n</body>\r\n'},424:function(e,t){e.exports='<div class="devices">\r\n\r\n  <div *ngFor="let device of devices" class="device-outer" [attr.data-device-id]="device.id">\r\n    <a class="device" [routerLink]="isEdited(device) ? null : [\'/details\', device.id]"\r\n       [attr.title]="device.description">\r\n      <dl class="device-properties">\r\n        <dt>Anzeigename</dt>\r\n        <dd *ngIf="!isEdited(device)" class="device-displayname">{{device.display_name}}</dd>\r\n        <dd *ngIf="isEdited(device)" class="device-displayname">\r\n          <input id="device_displayname_input" (keyup.enter)="finishEdit(device)" [(ngModel)]="device.display_name"\r\n                 value=\'" + text + "\'/>\r\n        </dd>\r\n        <dt>Gerätetyp</dt>\r\n        <dd class="device-type">{{device.type}}</dd>\r\n        <dt>Gerätename</dt>\r\n        <dd class="device-name">{{device.type_name}}</dd>\r\n      </dl>\r\n      <div class="device-image-container">\r\n        <svg width="100%" height="100%" class="device-image"></svg>\r\n      </div>\r\n    </a>\r\n    <ul class="device-actions">\r\n      <li>\r\n        <a (click)="editDevice(device)">\r\n          <img class="device-edit" src="images/edit.png" alt="Gerät bearbeiten">\r\n        </a>\r\n      </li>\r\n      <li>\r\n        <a (click)="isEdited(device) ? finishEdit(device): removeDevice(device)">\r\n          <img class="device-remove" src="images/remove.png" alt="Gerät entfernen">\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n\r\n</div>\r\n'},425:function(e,t){e.exports='<div class="details-image-container">\r\n  <canvas alt="Polardiagramm für das Gerät" class="details-image" baseChart\r\n          [data]="polarChartData"\r\n          [labels]="polarChartLabels"\r\n          [chartType]="polarChartType"\r\n          [legend]="polarChartLegend"\r\n          [options]="polarChartOptions">\r\n  </canvas>\r\n</div>\r\n<div class="details-data">\r\n  <label class="accessibility" for="details-log">Letzte Werteänderungen</label>\r\n  <textarea id="details-log" class="detail-logs" [(ngModel)]="controlUnit.log" placeholder="Gerätelog" readonly rows="6"></textarea>\r\n  <div class="details-settings">\r\n    <h3 class="details-headline">{{controlUnit.name}}</h3>\r\n\r\n    <form class="update-form" method="post" #updateForm="ngForm" (ngSubmit)="onSubmit()">\r\n\r\n      <label class="update-form-field" id="current-value">\r\n        <span class="current-value">derzeit: {{controlUnit.values[controlUnit.current]}}</span>\r\n      </label>\r\n\r\n      <label class="accessibility" for="new-value">Bitte gewünschten Wert aus Menü auswählen.</label>\r\n      <select id="new-value" class="update-form-field form-input" name="new-value" [(ngModel)]="new_value" required>\r\n       <option [value]="val" [selected]="isSelected(val) ? true: null"  *ngFor="let val of controlUnit.values">{{val}}</option>\r\n      </select>\r\n      <input type="submit" id="submit-value" class="update-form-field button" name="submit-value"\r\n             value="Wert setzen">\r\n    </form>\r\n  </div>\r\n</div>\r\n'},426:function(e,t){e.exports='<body data-decimal-separator="," data-grouping-separator=".">\r\n\r\n<div role="navigation" aria-label="jumplinks">\r\n  <a href="#formheadline" class="accessibility">Zum Inhalt springen</a>\r\n</div>\r\n\r\n<my-navigation></my-navigation>\r\n<div class="main-container">\r\n  <main aria-labelledby="formheadline">\r\n    <form class="form" method="post" #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)">\r\n      <h2 id="formheadline" class="registration-headline">Anmelden</h2>\r\n      <div class="form-row">\r\n        <label class="form-label" for="username-input">\r\n          Benutzername\r\n        </label>\r\n        <input type="text" name="username" id="username-input" required class="form-input" ngModel>\r\n      </div>\r\n      <div class="form-row">\r\n        <label class="form-label" for="password-input">\r\n          Passwort\r\n        </label>\r\n        <input type="password" name="password" id="password-input" required class="form-input" minlength="4"\r\n               maxlength="12" ngModel>\r\n      </div>\r\n      <div *ngIf="loginError" class="form-row form-row-center form-error" id="login-error">Benutzername oder Passwort nicht korrekt!</div>\r\n      <div class="form-row form-row-center">\r\n        <input type="submit" class="button button-submit" value="Anmelden"/>\r\n      </div>\r\n    </form>\r\n  </main>\r\n</div>\r\n<footer>\r\n  © 2017 BIG Smart Home\r\n</footer>\r\n</body>\r\n'},427:function(e,t){e.exports='<header aria-labelledby="bannerheadline">\r\n  \x3c!--<a [routerLink]="[\'/overview\']"><img class="title-image" src="images/big-logo-small.png" alt="BIG Bid logo"></a>--\x3e\r\n  <a [routerLink]="isLoginSite() ? [\'/login\'] : [\'/overview\']"><img class="title-image" src="images/big-logo-small.png"\r\n                                                                    alt="BIG Bid logo"></a>\r\n  <h1 class="header-title" id="bannerheadline">\r\n    BIG Smart Home\r\n  </h1>\r\n  <nav aria-labelledby="navigationheadline">\r\n    <h2 class="accessibility" id="navigationheadline">Navigation</h2>\r\n    <ul class="navigation-list">\r\n      <li class="nav-items">\r\n        <ul>\r\n          <li *ngIf="isOptionsShown()">\r\n            <a [routerLink]="[\'/options\']" class="button" accesskey="2">Optionen</a>\r\n          </li>\r\n          <li *ngIf="isLogoutShown()">\r\n            <a (click)="doLogout()" class="button" accesskey="1">Abmelden</a>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      <li class="overflow-icon">\r\n        <a href="#" class="button" accesskey="1">☰</a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</header>\r\n'},428:function(e,t){e.exports='<div role="navigation" aria-label="jumplinks">\r\n  <a href="#formheadline" class="accessibility">Zum Inhalt springen</a>\r\n</div>\r\n\r\n<my-navigation></my-navigation>\r\n<div class="main-container">\r\n  <main aria-labelledby="formheadline">\r\n    <form class="form" method="post" #optionsForm="ngForm" (ngSubmit)="onSubmit(optionsForm)">\r\n      <h2 id="formheadline" class="options-headline">Passwort ändern</h2>\r\n      <div class="form-row">\r\n        <label class="form-label" for="old-password-input">\r\n          Altes Passwort\r\n        </label>\r\n        <input type="password" name="old-password" id="old-password-input" required class="form-input"\r\n               placeholder="Altes Passwort" ngModel>\r\n      </div>\r\n      <div class="form-row">\r\n        <label class="form-label" for="new-password-input">\r\n          Neues Passwort\r\n        </label>\r\n        <input type="password" name="new-password" id="new-password-input" placeholder="Neues Passwort" required\r\n               class="form-input" minlength="8"\r\n               maxlength="12" pattern="(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,12}" ngModel>\r\n      </div>\r\n      <div class="form-row">\r\n        <label class="form-label" for="repeat-password-input">\r\n          Passwort wiederholen\r\n        </label>\r\n        <input type="password" name="repeat-password" id="repeat-password-input"\r\n               placeholder="Neues Passwort wiederholen"\r\n               required class="form-input" minlength="8"\r\n               maxlength="12" pattern="(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,12}" ngModel>\r\n      </div>\r\n      <div *ngIf="updateError" class="form-row form-row-center form-error" id="update-error">{{error_message}}</div>\r\n      <div class="form-row form-row-center">\r\n        <input [disabled]="!(equalsPW(optionsForm) && optionsForm.form.valid)" type="submit" id="save-changes-button"\r\n               class="button button-submit"\r\n               value=" Änderung speichern"/>\r\n      </div>\r\n    </form>\r\n  </main>\r\n</div>\r\n<footer>\r\n  © 2017 BIG Smart Home\r\n</footer>\r\n'},429:function(e,t){e.exports='<div class="overlay">\r\n  <div class="overlay-content">\r\n    <a (click)="doClose()" class="overlay-exit"><img  src="images/close.png" alt="close overlay" width="10" height="10"/></a>\r\n    <form name="addForm" class="form overlay-form" method="post" #addForm="ngForm" (ngSubmit)="onSubmit(addForm)">\r\n      <h2 id="formheadline" class="create-headline">Gerät anlegen</h2>\r\n      <div class="form-row">\r\n        <label class="form-label" for="displayname-input">\r\n          Anzeigename\r\n        </label>\r\n        <input type="text" name="displayname" id="displayname-input" required class="form-input" ngModel>\r\n      </div>\r\n      <div class="form-row">\r\n        <label class="form-label" for="type-input">\r\n          Gerätetyp\r\n        </label>\r\n\r\n        <select [(ngModel)]="selected_type" name="type-input" class="form-input" required id="type-input">\r\n          <option [value]="val"  *ngFor="let val of device_types">{{val}}</option>\r\n        </select>\r\n      </div>\r\n      <div class="form-row">\r\n        <label class="form-label" for="typename-input">\r\n          Typenbezeichnung\r\n        </label>\r\n        <input type="text" name="typename" id="typename-input" required class="form-input" ngModel>\r\n      </div>\r\n      <hr>\r\n      <div class="form-row">\r\n        <label class="form-label" >\r\n          <b>Steuerungselement</b>\r\n        </label>\r\n      </div>\r\n      <div class="form-row">\r\n        <label class="form-label" for="elementname-input">\r\n          Bezeichnung\r\n        </label>\r\n        <input type="text" name="elementname" id="elementname-input" required class="form-input" ngModel>\r\n      </div>\r\n      <div class="form-row">\r\n        <label class="form-label" for="elementtype-input">\r\n          Typ\r\n        </label>\r\n        <select name="elementtype-input" class="form-input" [(ngModel)]="controlUnitType_selected" required id="elementtype-input">\r\n          <option [value]="val"  *ngFor="let val of controlUnit_types">{{val}}</option>\r\n        </select>\r\n      </div>\r\n      <div *ngIf="isContinuousSelected()" class="form-row">\r\n        <label class="form-label" for="minimum-input">\r\n          Minimum\r\n        </label>\r\n        <input type="number" name="minimum-value" id="minimum-input" required class="form-input" ngModel>\r\n      </div>\r\n      <div *ngIf="isContinuousSelected()" class="form-row">\r\n        <label class="form-label" for="maximum-input">\r\n          Maximum\r\n        </label>\r\n        <input type="number" name="maximum-value" id="maximum-input" required class="form-input" ngModel>\r\n      </div>\r\n      <div *ngIf="isEnumSelected()" class="form-row">\r\n        <label class="form-label" for="values-input">\r\n          Mögliche Werte\r\n        </label>\r\n        <textarea name="discrete-values" ngModel id="values-input" required class="form-input" placeholder="offen, halb geöffnet, geschlossen"></textarea>\r\n      </div>\r\n      <div *ngIf="addError" class="form-row form-row-center form-error" id="add-error">Es wurden nicht alle Angaben wie benötigt vorgenommen!</div>\r\n      <div *ngIf="createError" class="form-row form-row-center form-error" id="create-error">Aufgrund eine Serverfehlers konnte das Geräte nicht erstellt werden!</div>\r\n      <div class="form-row form-row-center form-row-bottom">\r\n        <button [disabled]="!addForm.form.valid" class="button button-submit">\r\n          Gerät hinzufügen\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n'},430:function(e,t){e.exports='<body data-decimal-separator="," data-grouping-separator=".">\r\n<div role="navigation" aria-label="jumplinks">\r\n  <a href="#devicesheadline" class="accessibility">Zum Inhalt springen</a>\r\n</div>\r\n\r\n<my-navigation></my-navigation>\r\n<div class="main-container">\r\n  <aside class="sidebar" aria-labelledby="serverinfoheadline">\r\n    <my-sidebar></my-sidebar>\r\n  </aside>\r\n  <main aria-labelledby="devicesheadline;">\r\n    <div class="headline-container">\r\n      <h2 class="main-headline" id="devicesheadline">Geräte</h2>\r\n      <a (click)="addDevice()"><img height="20" width="20" src="../../images/add.png" alt="Gerät hinzufügen"/></a>\r\n    </div>\r\n    <my-devices></my-devices>\r\n    <my-overlay [overviewComponent]="this" [hidden]="isAddDevice ? null : true"></my-overlay>\r\n  </main>\r\n</div>\r\n\r\n<footer>\r\n  © 2017 BIG Smart Home\r\n</footer>\r\n</body>\r\n'},431:function(e,t){e.exports='<div class="server-info-container">\r\n  <h2 class="accessibility" id="serverinfoheadline">Serverstatus</h2>\r\n  <dl class="server-data properties">\r\n    <dt class="accessibility">Serverstatus:</dt>\r\n    <dd class="server-status">Serverstatus:</dd>\r\n    <dt>Benutzer</dt>\r\n    <dd>\r\n      <span class="system-start-time">Administrator</span>\r\n    </dd>\r\n    <dt>Systemstartzeit</dt>\r\n    <dd>\r\n      <span class="system-start-time">{{accessService.server_start | date: \'shortTime\'}}</span>\r\n    </dd>\r\n    <dt>Systemstartdatum</dt>\r\n    <dd>\r\n      <span class="system-start-datum">{{accessService.server_start  | date: \'shortDate\'}}</span>\r\n    </dd>\r\n    <dt>Fehlgeschlagene Logins</dt>\r\n    <dd>\r\n      <span class="failed-logins">{{accessService.failed_logins}}</span>\r\n    </dd>\r\n  </dl>\r\n</div>\r\n'},450:function(e,t,n){e.exports=n(294)}},[450]);